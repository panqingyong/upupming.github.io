<!DOCTYPE html><html lang="zh-Hans"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="Java è®¾è®¡æ¨¡å¼ (1)"><meta name="keywords" content="java,design patterns"><meta name="author" content="upupming"><meta name="copyright" content="upupming"><title>Java è®¾è®¡æ¨¡å¼ (1) | upupming çš„åšå®¢</title><link rel="shortcut icon" href="/my-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css?version=1.6.1"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css?version=1.6.1"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.css"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.js" defer></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js"></script><script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.10.0/js/md5.min.js"></script><link rel="manifest" href="/manifest.json"><link rel="manifest" href="/manifest.json"><meta name="theme-color" content="#1B9EF3"><meta name="msapplication-TileColor" content="#1B9EF3"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#1B9EF3"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({
  google_ad_client: 'ca-pub-2188191456032650',
  enable_page_level_ads: 'true'
});
</script><link rel="dns-prefetch" href="https://hm.baidu.com"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?295ad5c5a196e4964e20f74260711177";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();</script><link rel="dns-prefetch" href="https://www.google-analytics.com"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-114899088-1', 'auto');
ga('send', 'pageview');</script><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"5WEDOKLFCL","apiKey":"26a57bfa5275b7c98a3b3ab7dae61915","indexName":"upupming-blog","hits":{"per_page":10},"languages":{"input_placeholder":"æœç´¢æ–‡ç« ","hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹:${query}","hits_stats":"æ‰¾åˆ° ${hits} æ¡ç»“æœï¼Œç”¨æ—¶ ${time} æ¯«ç§’"}},
  localSearch: undefined,
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  }
} </script></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="åˆ‡æ¢æ–‡ç« è¯¦æƒ…">åˆ‡æ¢ç«™ç‚¹æ¦‚è§ˆ</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">ç›®å½•</div><div class="sidebar-toc__progress"><span class="progress-notice">ä½ å·²ç»è¯»äº†</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#creational-patterns-åˆ›å»ºå‹æ¨¡å¼"><span class="toc-number">1.</span> <span class="toc-text"> Creational patterns | åˆ›å»ºå‹æ¨¡å¼</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#structural-patterns-ç»“æ„å‹æ¨¡å¼"><span class="toc-number">2.</span> <span class="toc-text"> Structural patterns | ç»“æ„å‹æ¨¡å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#adapter-design-pattern-é€‚é…å™¨æ¨¡å¼"><span class="toc-number">2.1.</span> <span class="toc-text"> Adapter design pattern | é€‚é…å™¨æ¨¡å¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#decorator-design-pattern-è£…é¥°å™¨æ¨¡å¼"><span class="toc-number">2.2.</span> <span class="toc-text"> Decorator design pattern | è£…é¥°å™¨æ¨¡å¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#facade-design-pattern-å¤–è§‚æ¨¡å¼"><span class="toc-number">2.3.</span> <span class="toc-text"> Facade design pattern | å¤–è§‚æ¨¡å¼</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#behavioral-patterns-è¡Œä¸ºå‹æ¨¡å¼"><span class="toc-number">3.</span> <span class="toc-text"> Behavioral patterns | è¡Œä¸ºå‹æ¨¡å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#strategy-design-pattern-ç­–ç•¥æ¨¡å¼"><span class="toc-number">3.1.</span> <span class="toc-text"> Strategy design pattern | ç­–ç•¥æ¨¡å¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#template-design-pattern-æ¨¡æ¿æ¨¡å¼"><span class="toc-number">3.2.</span> <span class="toc-text"> Template design pattern | æ¨¡æ¿æ¨¡å¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#iterator-design-pattern-è¿­ä»£å™¨æ¨¡å¼"><span class="toc-number">3.3.</span> <span class="toc-text"> Iterator design pattern | è¿­ä»£å™¨æ¨¡å¼</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#æ€»ç»“"><span class="toc-number">4.</span> <span class="toc-text"> æ€»ç»“</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#å‚è€ƒèµ„æ–™"><span class="toc-number">5.</span> <span class="toc-text"> å‚è€ƒèµ„æ–™</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="/img/doraemon.jpeg"></div><div class="author-info__name text-center">upupming</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">æ–‡ç« </span><span class="pull-right">41</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">æ ‡ç­¾</span><span class="pull-right">49</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">åˆ†ç±»</span><span class="pull-right">26</span></a></div><hr><div class="author-info-links"><div class="author-info-links__title text-center">å‹æƒ…é“¾æ¥</div><a class="author-info-links__name text-center" href="https://molunerfinn.com/">MARKSZã®Blog</a><a class="author-info-links__name text-center" href="https://github.com/ryanhanwu/How-To-Ask-Questions-The-Smart-Way/blob/master/README-zh_CN.md">æé—®çš„æ™ºæ…§</a><a class="author-info-links__name text-center" href="https://zh.wikipedia.org/">ä¸­æ–‡ç»´åŸºç™¾ç§‘</a><a class="author-info-links__name text-center" href="https://zbqtesla.github.io">ZBQTeslaçš„åšå®¢</a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(/img/background.png)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">upupming çš„åšå®¢</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">ä¸»é¡µ</a><a class="site-page" href="/archives">å½’æ¡£</a><a class="site-page" href="/tags">æ ‡ç­¾</a><a class="site-page" href="/categories">åˆ†ç±»</a><a class="site-page" href="https://mirror.upupming.site">Mirror</a><a class="site-page" href="https://music.wxhbts.com">éŸ³ä¹</a><a class="site-page" href="https://writing.upupming.site">Writing</a><a class="site-page" href="/about">å…³äº</a><a class="site-page" href="/rss">RSS</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> æœç´¢</span></a></span></div><div id="post-info"><div id="post-title">Java è®¾è®¡æ¨¡å¼ (1)</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-06-18</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/ç¼–ç¨‹è¯­è¨€/">ç¼–ç¨‹è¯­è¨€</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/ç¼–ç¨‹è¯­è¨€/Java/">Java</a><div class="post-meta-wordcount"><span>å­—æ•°æ€»è®¡: </span><span class="word-count">3.5k</span><span class="post-meta__separator">|</span><span>é˜…è¯»æ—¶é•¿: 16 åˆ†é’Ÿ</span></div></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><p>æœ¬ç³»åˆ—ä¸»è¦ä»‹ç»äº†å¸¸ç”¨çš„é¢å‘å¤ç”¨çš„è®¾è®¡æ¨¡å¼ï¼ŒåŒ…æ‹¬<em>åˆ›å»ºå‹æ¨¡å¼</em>ï¼ˆCreational Patternsï¼‰ã€<em>ç»“æ„å‹æ¨¡å¼</em>ï¼ˆStructural Patternsï¼‰å’Œ<em>è¡Œä¸ºå‹æ¨¡å¼</em>ï¼ˆBehavioral Patternsï¼‰ã€‚</p>
<figure class="not-code"><img src="/2018/06/18/java-design-patterns-1/list-of-patterns.png">
<figcaption>23 ä¸ªç»å…¸è®¾è®¡æ¨¡å¼</figcaption>
</figure>
<a id="more"></a>
<h1 id="creational-patterns-åˆ›å»ºå‹æ¨¡å¼"><a class="markdownIt-Anchor" href="#creational-patterns-åˆ›å»ºå‹æ¨¡å¼"></a> Creational patterns | åˆ›å»ºå‹æ¨¡å¼</h1>
<p>ä¸€äº›å·¥å‚æ¨¡å¼ï¼Œå¸®åŠ©ç®€åŒ–å¯¹è±¡åˆ›å»ºè¿‡ç¨‹ã€‚</p>
<h1 id="structural-patterns-ç»“æ„å‹æ¨¡å¼"><a class="markdownIt-Anchor" href="#structural-patterns-ç»“æ„å‹æ¨¡å¼"></a> Structural patterns | ç»“æ„å‹æ¨¡å¼</h1>
<p>åˆ©ç”¨ç°æœ‰ç±»å’Œå¯¹è±¡ç»„æˆæ›´å¤§çš„æ•°æ®ç»“æ„ã€‚æ¯”å¦‚å°†ä¸¤ä¸ªæˆ–æ›´å¤šçš„ç±»è¿›è¡Œé›†æˆäº§ç”Ÿæ›´å¤æ‚çš„ç±»ï¼ŒåŒæ—¶è¿˜æœ‰å¯èƒ½å¢åŠ æ–°çš„åŠŸèƒ½ã€‚</p>
<h2 id="adapter-design-pattern-é€‚é…å™¨æ¨¡å¼"><a class="markdownIt-Anchor" href="#adapter-design-pattern-é€‚é…å™¨æ¨¡å¼"></a> Adapter design pattern | é€‚é…å™¨æ¨¡å¼</h2>
<p><strong>é—®é¢˜æè¿°ï¼š</strong></p>
<p>å‡è®¾ä½ æœ‰ä¸€ä¸ªåœ¨çº¿äº¤æ˜“ç½‘ç«™ï¼Œè¿è¡Œçš„æ˜¯ç¬¬ä¸‰æ–¹<a href="https://baike.baidu.com/item/%E6%94%AF%E4%BB%98%E7%BD%91%E5%85%B3" target="_blank" rel="noopener">æ”¯ä»˜ç½‘å…³</a> <code>Xpay</code>ï¼ˆè¿™é‡Œä½“ç°ä¸ºé€šè¿‡ <code>Xpay</code> çš„å®ä¾‹è®°å½•ä¸€ä¸ªç”¨æˆ·çš„æ‰€æœ‰ä¿¡æ¯ï¼‰ã€‚ç°åœ¨ä¾›åº”å•†åªå…è®¸ä½ ä½¿ç”¨æ–°çš„æ”¯ä»˜ç½‘å…³ï¼ˆæ›´åŠ å®‰å…¨å¯é ï¼‰ <code>PayD</code>ï¼Œä½†æ˜¯åŸæœ‰çš„ä»£ç éƒ½æ˜¯ä½¿ç”¨ <code>Xpay</code> çš„ï¼Œä¸ <code>PayD</code> ä¸å…¼å®¹ã€‚</p>
<img src="before-change.png" height="150">
<img src="change-incompatible.png" height="150">
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<p>ä½ åœ¨åŸæœ‰ä»£ç å’Œ <code>PayD</code> ä¹‹é—´åŠ äº†ä¸€ä¸ªé€‚é…å™¨ï¼ˆApapterï¼‰ï¼Œè¿™æ ·æ—¢ä¿è¯äº†ä½¿ç”¨æ–°çš„æ”¯ä»˜ç½‘å…³ï¼Œæœ‰ä¿è¯äº†åŸæœ‰çš„ä»£ç è¿˜èƒ½å¤Ÿè¿è¡Œã€‚</p>
<img src="added-adapter.png" height="150">
<p><strong>ä»£ç ï¼š</strong></p>
<p>åŸæœ‰çš„ <code>Xpay</code> æ¥å£ã€‚</p>
<details><summary>Xpay.java</summary>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.javacodegeeks.patterns.adapterpattern.xpay;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Xpay</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCreditCardNo</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustomerName</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCardExpMonth</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCardExpYear</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Short <span class="title">getCardCVVNo</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Double <span class="title">getAmount</span><span class="params">()</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCreditCardNo</span><span class="params">(String creditCardNo)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustomerName</span><span class="params">(String customerName)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCardExpMonth</span><span class="params">(String cardExpMonth)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCardExpYear</span><span class="params">(String cardExpYear)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCardCVVNo</span><span class="params">(Short cardCVVNo)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAmount</span><span class="params">(Double amount)</span></span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>
<p>åŸæœ‰ <code>Xpay</code> æ¥å£çš„å®ç°ã€‚</p>
<details><summary>XpayImpl.java</summary>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.javacodegeeks.patterns.adapterpattern.site;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.javacodegeeks.patterns.adapterpattern.xpay.Xpay;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">XpayImpl</span> <span class="keyword">implements</span> <span class="title">Xpay</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String creditCardNo;</span><br><span class="line">    <span class="keyword">private</span> String customerName;</span><br><span class="line">    <span class="keyword">private</span> String cardExpMonth;</span><br><span class="line">    <span class="keyword">private</span> String cardExpYear;</span><br><span class="line">    <span class="keyword">private</span> Short cardCVVNo;</span><br><span class="line">    <span class="keyword">private</span> Double amount;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCreditCardNo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> creditCardNo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustomerName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> customerName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCardExpMonth</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> cardExpMonth;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCardExpYear</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> cardExpYear;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Short <span class="title">getCardCVVNo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> cardCVVNo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Double <span class="title">getAmount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> amount;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCreditCardNo</span><span class="params">(String creditCardNo)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.creditCardNo = creditCardNo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustomerName</span><span class="params">(String customerName)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.customerName = customerName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCardExpMonth</span><span class="params">(String cardExpMonth)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.cardExpMonth = cardExpMonth;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCardExpYear</span><span class="params">(String cardExpYear)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.cardExpYear = cardExpYear;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCardCVVNo</span><span class="params">(Short cardCVVNo)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.cardCVVNo = cardCVVNo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAmount</span><span class="params">(Double amount)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.amount = amount;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>
<p>æ–°æ¥çš„ <code>PayD</code> æ¥å£ã€‚</p>
<details><summary>PayD.java</summary>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.javacodegeeks.patterns.adapterpattern.payd;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">PayD</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustCardNo</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCardOwnerName</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCardExpMonthDate</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getCVVNo</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Double <span class="title">getTotalAmount</span><span class="params">()</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustCardNo</span><span class="params">(String custCardNo)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCardOwnerName</span><span class="params">(String cardOwnerName)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCardExpMonthDate</span><span class="params">(String cardExpMonthDate)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCVVNo</span><span class="params">(Integer cVVNo)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setTotalAmount</span><span class="params">(Double totalAmount)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>
<p>ç»†å¿ƒè§‚å¯Ÿå¯ä»¥å‘ç°ï¼Œè¿™å„¿ <code>PayD</code> çš„åŠŸèƒ½åŸºæœ¬å’Œ <code>Xpay</code> ä¸€æ ·ã€‚</p>
<ul>
<li>getCustCardNo == getCreditCardNo</li>
<li>getCardOwnerName == getCustomerName</li>
<li>getCardExpMonthDate == getCardExpMonth + getCardExpYear</li>
<li>getCVVNo == getCardCVVNo ï¼ˆè¿”å›å€¼ç±»å‹æœ‰å·®åˆ«ï¼‰</li>
<li>getTotalAmount == getAmount</li>
</ul>
<p>ä¸ºäº†è®©åŸæœ‰çš„ä»£ç ä½¿ç”¨ <code>PayD</code> åšæ”¯ä»˜ç½‘å…³ï¼Œå¿…é¡»è¦åœ¨ <code>Xpay</code> åŸºç¡€ä¸Šå°è£…å‡ºä¸€ä¸ªé€‚é…å™¨ <code>XpayToPayDAdapter</code>ï¼Œè¿™ä¸ªé€‚é…å™¨å®ç°äº† <code>PayD</code> ï¼Œåœ¨å†…éƒ¨æœ‰ <code>Xpay</code> ä½œä¸ºå˜é‡ã€‚åœ¨å†…ä½¿ç”¨ <code>Xpay</code>ï¼Œåœ¨å¤–è¡¨ç°ä¸º <code>PayD</code>ã€‚</p>
<details><summary>XpayToPayDAdapter.java</summary>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.javacodegeeks.patterns.adapterpattern.site;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.javacodegeeks.patterns.adapterpattern.payd.PayD;</span><br><span class="line"><span class="keyword">import</span> com.javacodegeeks.patterns.adapterpattern.xpay.Xpay;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">XpayToPayDAdapter</span> <span class="keyword">implements</span> <span class="title">PayD</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String custCardNo;</span><br><span class="line">    <span class="keyword">private</span> String cardOwnerName;</span><br><span class="line">    <span class="keyword">private</span> String cardExpMonthDate;</span><br><span class="line">    <span class="keyword">private</span> Integer cVVNo;</span><br><span class="line">    <span class="keyword">private</span> Double totalAmount;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Xpay xpay;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">XpayToPayDAdapter</span><span class="params">(Xpay xpay)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.xpay = xpay;</span><br><span class="line">        setProp();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustCardNo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custCardNo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCardOwnerName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> cardOwnerName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCardExpMonthDate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> cardExpMonthDate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getCVVNo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> cVVNo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Double <span class="title">getTotalAmount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> totalAmount;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustCardNo</span><span class="params">(String custCardNo)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custCardNo = custCardNo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCardOwnerName</span><span class="params">(String cardOwnerName)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.cardOwnerName = cardOwnerName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCardExpMonthDate</span><span class="params">(String cardExpMonthDate)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.cardExpMonthDate = cardExpMonthDate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCVVNo</span><span class="params">(Integer cVVNo)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.cVVNo = cVVNo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setTotalAmount</span><span class="params">(Double totalAmount)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.totalAmount = totalAmount;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">setProp</span><span class="params">()</span></span>&#123;</span><br><span class="line">        setCardOwnerName(<span class="keyword">this</span>.xpay.getCustomerName());</span><br><span class="line">        setCustCardNo(<span class="keyword">this</span>.xpay.getCreditCardNo());</span><br><span class="line">        setCardExpMonthDate(<span class="keyword">this</span>.xpay.getCardExpMonth()+<span class="string">"/"</span>+<span class="keyword">this</span>.xpay.getCardExpYear());</span><br><span class="line">        setCVVNo(<span class="keyword">this</span>.xpay.getCardCVVNo().intValue());</span><br><span class="line">        setTotalAmount(<span class="keyword">this</span>.xpay.getAmount());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>
<p>åœ¨å®¢æˆ·ç«¯ä½¿ç”¨çš„æ—¶å€™åˆ©ç”¨æ—§çš„ <code>Xpay</code> äº§ç”Ÿæ–°çš„ <code>PayD</code>ï¼Œä¹‹åæ‰€æœ‰æ“ä½œé€šè¿‡ <code>PayD</code> è¿›è¡Œã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ­¤å¤„ä½¿ç”¨ Xpay</span></span><br><span class="line">Xpay xpay = <span class="keyword">new</span> XpayImpl();</span><br><span class="line">xpay.setCreditCardNo(<span class="string">"4789565874102365"</span>);</span><br><span class="line">xpay.setCustomerName(<span class="string">"Max Warner"</span>);</span><br><span class="line">xpay.setCardExpMonth(<span class="string">"09"</span>);</span><br><span class="line">xpay.setCardExpYear(<span class="string">"25"</span>);</span><br><span class="line">xpay.setCardCVVNo((<span class="keyword">short</span>)<span class="number">235</span>);</span><br><span class="line">xpay.setAmount(<span class="number">2565.23</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸å†å…è®¸ä½¿ç”¨ Xpayï¼Œå¿…é¡»ä½¿ç”¨ PayD</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ©ç”¨é€‚é…å™¨å°† Xpay è½¬æ¢ä¸º PayD</span></span><br><span class="line">PayD payD = <span class="keyword">new</span> XpayToPayDAdapter(xpay);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å†å»ä½¿ç”¨æ–°çš„ PayD</span></span><br><span class="line">System.out.println(payD.getCardOwnerName());</span><br><span class="line">System.out.println(payD.getCustCardNo());</span><br><span class="line">System.out.println(payD.getCardExpMonthDate());</span><br><span class="line">System.out.println(payD.getCVVNo());</span><br><span class="line">System.out.println(payD.getTotalAmount());</span><br></pre></td></tr></table></figure>
<p><strong>æ€»ç»“ï¼š</strong></p>
<p>å½“æƒ³ä½¿ç”¨ä¸€ç§æ–°çš„æ¥å£ï¼Œå´å‘ç°å’Œæ—§çš„ä»£ç ä¸å…¼å®¹æ—¶ï¼Œå¯ä»¥åŠ ä¸€ä¸ªé€‚é…å™¨æ¥è®©æ—§çš„ä»£ç ä»èµ·ä½œç”¨ã€‚</p>
<p><code>XpayToPayDAdapter</code> å†…éƒ¨æœ‰ä¸€ä¸ª <code>Xpay</code> çš„å®ä¾‹ï¼Œæ˜¯ Delegation ä¸­çš„ <a href="../../../../2018/06/05/java-UML/#%E5%9B%9B%E7%A7%8D-Delegation-%E8%BE%A8%E6%9E%90">Aggregation</a>ã€‚</p>
<h2 id="decorator-design-pattern-è£…é¥°å™¨æ¨¡å¼"><a class="markdownIt-Anchor" href="#decorator-design-pattern-è£…é¥°å™¨æ¨¡å¼"></a> Decorator design pattern | è£…é¥°å™¨æ¨¡å¼</h2>
<p>è£…é¥°å™¨å†…éƒ¨æœ‰ä¸€ä¸ªå˜é‡ï¼Œåœ¨è¿™ä¸ªå˜é‡åŸºç¡€ä¸Šå¢åŠ ä¸€äº›å…¶ä»–åŠŸèƒ½ï¼Œç±»ä¼¼äºé”¦ä¸Šæ·»èŠ±ï¼Œç§°ä¹‹ä¸ºâ€œè£…é¥°â€ã€‚è¿™æ ·çš„æ¨¡å¼éå¸¸ç®€æ´æ˜“æ‡‚ï¼Œå®¢æˆ·ç«¯éœ€è¦æŸç§åŠŸèƒ½ï¼Œåªéœ€è°ƒç”¨ç›¸åº”çš„è£…é¥°è€…ã€‚</p>
<p><a href="../../../../2018/06/05/java-UML/"><strong>UML ç±»å›¾ï¼š</strong></a></p>
<img src="decorator-uml.png" height="300">
<p>åœ¨ä¸Šå›¾ä¸­ï¼ŒæŠ½è±¡ç±» <code>Decorator</code> æœ‰ä¸¤æ¡åˆ° <code>Component</code> çš„è¿çº¿ï¼Œå·¦è¾¹ä¸€æ¡è¡¨ç¤º <code>Decorator</code> å®ç°äº† <code>Component</code>ï¼Œå³è¾¹ä¸€æ¡è¡¨ç¤º <code>Decorator</code> å†…éƒ¨å«æœ‰ <code>Component</code> å‹çš„å˜é‡ï¼Œè¿™æ˜¯ä¸€ç§ <a href="../../../../2018/06/05/java-UML/#%E5%9B%9B%E7%A7%8D-Delegation-%E8%BE%A8%E6%9E%90">Aggregation</a>ã€‚</p>
<p><strong>ä»£ç ï¼š</strong></p>
<p>é¦–å…ˆæœ‰ä¸€ä¸ªæ¥å£ã€‚</p>
<details><summary>Pizza.java</summary>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.javacodegeeks.patterns.decoratorpattern;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Pizza</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getDesc</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getPrice</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>
<p>è¿™ä¸ªæ¥å£è¢«æŠ½è±¡çš„è£…é¥°å™¨å®ç°ã€‚</p>
<details><summary>PizzaDecorator.java</summary>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.javacodegeeks.patterns.decoratorpattern;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">PizzaDecorator</span> <span class="keyword">implements</span> <span class="title">Pizza</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getDesc</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Toppings"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>
<p>åˆæœ‰ä¸€ä¸ªå…·ä½“çš„ç±»æ¥ç»§æ‰¿å®ç°è¿™ä¸ªè£…é¥°å™¨çš„æŠ½è±¡æ–¹æ³•ã€‚</p>
<details><summary>Chicken.java</summary>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.javacodegeeks.patterns.decoratorpattern;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Chicken</span> <span class="keyword">extends</span> <span class="title">PizzaDecorator</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Pizza pizza;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Chicken</span><span class="params">(Pizza pizza)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.pizza = pizza;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getDesc</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> pizza.getDesc()+<span class="string">", Chicken (12.75)"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getPrice</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> pizza.getPrice()+<span class="number">12.75</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>
<p>å¯ä»¥çœ‹åˆ°è¿™ä¸ªå®ç°æ˜¯åœ¨åŸæ¥çš„åŸºç¡€å¢åŠ äº†æ›´å¤šçš„åŠŸèƒ½ï¼ˆè¿™é‡Œæ˜¯ä»¥è¾“å‡ºè¡¨ç°ï¼‰ã€‚</p>
<p>è€Œæ™®é€šçš„æœªç»è¿‡è£…é¥°çš„å®ç°æ˜¯è¿™æ ·çš„ã€‚</p>
<details><summary>SimplyVegPizza.java</summary>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.javacodegeeks.patterns.decoratorpattern;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SimplyVegPizza</span> <span class="keyword">implements</span> <span class="title">Pizza</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getDesc</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"SimplyVegPizza (230)"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getPrice</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">230</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>
<p>å®¢æˆ·ç«¯å¯ä»¥é€šè¿‡å±‚å±‚è£…é¥°æ¥è·å¾—æ–°åŠŸèƒ½ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">pizza = <span class="keyword">new</span> SimplyNonVegPizza();</span><br><span class="line"></span><br><span class="line">pizza = <span class="keyword">new</span> Meat(pizza);</span><br><span class="line">pizza = <span class="keyword">new</span> Cheese(pizza);</span><br><span class="line">pizza = <span class="keyword">new</span> Cheese(pizza);</span><br><span class="line">pizza = <span class="keyword">new</span> Ham(pizza);</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">"Desc: "</span>+pizza.getDesc());</span><br><span class="line">System.out.println(<span class="string">"Price: "</span>+dformat.format(pizza.getPrice()));</span><br></pre></td></tr></table></figure>
<p>æ­å–œä½ åˆ°æ­¤å¾—åˆ°äº†ä¸€ä»½æœ‰ meatã€cheeseï¼ˆä¸¤ä¸ªå“¦ï¼‰ã€ham çš„ pizzağŸ˜ƒ ï¼Œä¸è¿‡ä½ ä¹Ÿå¾—ä»˜æ›´å¤šçš„é’±ã€‚</p>
<p><strong>æ€»ç»“ï¼š</strong></p>
<p>è£…é¥°å™¨æ¨¡å¼åŒæ ·åˆ©ç”¨äº† Delegation ä¸­çš„ <a href="../../../../2018/06/05/java-UML/#%E5%9B%9B%E7%A7%8D-Delegation-%E8%BE%A8%E6%9E%90">Aggregation</a>ï¼Œè¿™ä¸é€‚é…å™¨æ¨¡å¼éå¸¸ç›¸ä¼¼ï¼Œä¸è¿‡å®ƒæ˜¯ä¸ºäº†å¢åŠ æ–°çš„åŠŸèƒ½è€Œä¸æ˜¯é€‚é…å®¢æˆ·ç«¯ä¸ APIã€‚å¯¹äº Delegation å’Œç»§æ‰¿ä¸¤ç§æ–¹å¼çš„ä¼˜ç¼ºç‚¹çš„æ¢è®¨ä¹Ÿå¾ˆç®€å•ï¼Œå¤šæ•°å›´ç»•ç€åŠ¨æ€ã€é™æ€ï¼Œçµæ´»æ€§æ–¹é¢ã€‚è¿™é‡Œ Delegation çš„ä½œç”¨æ— ç–‘å‘æŒ¥åˆ°äº†æè‡´ã€‚</p>
<h2 id="facade-design-pattern-å¤–è§‚æ¨¡å¼"><a class="markdownIt-Anchor" href="#facade-design-pattern-å¤–è§‚æ¨¡å¼"></a> Facade design pattern | å¤–è§‚æ¨¡å¼</h2>
<p>å¯¹äºä¸€ä¸ªå¤æ‚çš„ç³»ç»Ÿï¼Œæœ‰å¾ˆå¤šå°æ¥å£ï¼Œå°†éœ€è¦åˆ©ç”¨å¾ˆå¤šå°æ“ä½œå®ç°çš„ä¸€ä¸ªå¤æ‚æ“ä½œå°è£…æˆå¤–è§‚ä¾›å®¢æˆ·ç«¯ç›´æ¥è°ƒç”¨ï¼Œç®€åŒ–äº†æ“ä½œï¼Œä½†å¹¶ä¸æä¾›åŸæœ‰ç³»ç»Ÿçš„å…¨éƒ¨åŠŸèƒ½ã€‚</p>
<p>åŒæ—¶è¿˜æœ‰è§£è€¦çš„ä½œç”¨ï¼Œè¦æ”¹åŠ¨è°ƒç”¨æ—¶ï¼Œå®¢æˆ·ç«¯è°ƒç”¨æ“ä½œä¸å¿…ä¿®æ”¹ï¼Œåªéœ€ä¿®æ”¹å¤–è§‚ã€‚</p>
<p><a href="../../../../2018/06/05/java-UML/"><strong>UML ç±»å›¾ï¼š</strong></a></p>
<img src="facade-uml.png" height="300">
<p><strong>ä»£ç ï¼š</strong></p>
<p>ä¸€ä¸ªå¤æ‚çš„ç³»ç»Ÿæœ‰å¾ˆå¤šå°æ“ä½œã€‚</p>
<details><summary>ScheduleServer.java</summary>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.javacodegeeks.patterns.facadepattern;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ScheduleServer</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">startBooting</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Starts booting..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">readSystemConfigFile</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Reading system config files..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Initializing..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">initializeContext</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Initializing context..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">initializeListeners</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Initializing listeners..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">createSystemObjects</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Creating system objects..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">releaseProcesses</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Releasing processes..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destory</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Destorying..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroySystemObjects</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Destroying system objects..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destoryListeners</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Destroying listeners..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destoryContext</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Destroying context..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">shutdown</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Shutting down..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>
<p>å¯æ˜¯æˆ‘ä»¬åªéœ€è¦å¼€æœºã€å…³æœºï¼Œå¸Œæœ›ç®€åŒ–ä¸€ä¸‹ï¼Œå°±å¾—åˆ°äº†æˆ‘ä»¬çš„å¤–è§‚ã€‚</p>
<details><summary>ScheduleServerFacade.java</summary>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.javacodegeeks.patterns.facadepattern;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ScheduleServerFacade</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> ScheduleServer scheduleServer;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ScheduleServerFacade</span><span class="params">(ScheduleServer scheduleServer)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.scheduleServer = scheduleServer;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">startServer</span><span class="params">()</span></span>&#123;</span><br><span class="line">        </span><br><span class="line">        scheduleServer.startBooting();</span><br><span class="line">        scheduleServer.readSystemConfigFile();</span><br><span class="line">        scheduleServer.init();</span><br><span class="line">        scheduleServer.initializeContext();</span><br><span class="line">        scheduleServer.initializeListeners();</span><br><span class="line">        scheduleServer.createSystemObjects();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">stopServer</span><span class="params">()</span></span>&#123;</span><br><span class="line">        </span><br><span class="line">        scheduleServer.releaseProcesses();</span><br><span class="line">        scheduleServer.destory();</span><br><span class="line">        scheduleServer.destroySystemObjects();</span><br><span class="line">        scheduleServer.destoryListeners();</span><br><span class="line">        scheduleServer.destoryContext();</span><br><span class="line">        scheduleServer.shutdown();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>
<h1 id="behavioral-patterns-è¡Œä¸ºå‹æ¨¡å¼"><a class="markdownIt-Anchor" href="#behavioral-patterns-è¡Œä¸ºå‹æ¨¡å¼"></a> Behavioral patterns | è¡Œä¸ºå‹æ¨¡å¼</h1>
<p>ä¸<strong>ç®—æ³•</strong>æœ‰å…³ï¼Œä¸å¯¹è±¡ä¹‹é—´çš„ä»»åŠ¡åˆ†é…ç›¸å…³ã€‚è¿™ç§æ¨¡å¼åŒæ—¶è¡¨ç¤ºäº†ç±»å’Œå¯¹è±¡ä¹‹é—´çš„ä¸€ç§è”ç³»ï¼Œèƒ½å¤Ÿè®©ä½ åœ¨è¿è¡Œæ—¶åšä¸€äº›å†³ç­–ï¼Œé¿å…äº†å¾ˆå¤šå¤´ç–¼çš„é—®é¢˜ã€‚</p>
<h2 id="strategy-design-pattern-ç­–ç•¥æ¨¡å¼"><a class="markdownIt-Anchor" href="#strategy-design-pattern-ç­–ç•¥æ¨¡å¼"></a> Strategy design pattern | ç­–ç•¥æ¨¡å¼</h2>
<p>**é—®é¢˜æè¿°ï¼š**å¯¹åŒä¸€é¡¹ä»»åŠ¡ï¼Œå¯èƒ½ä¼šæœ‰ä¸åŒçš„å®ç°æ–¹å¼ï¼Œå®¢æˆ·ç«¯å¯ä»¥æ ¹æ®éœ€è¦åœ¨è¿è¡Œæ—¶åŠ¨æ€é€‰æ‹©åœ°åˆé€‚çš„æ–¹å¼ã€‚</p>
<p><strong>ä¾‹å­ï¼š</strong></p>
<ul>
<li><em>æ’åºç®—æ³•</em>æœ‰<strong>å†’æ³¡æ’åº</strong>ã€<strong>å½’å¹¶æ’åº</strong>ã€<strong>å¿«é€Ÿæ’åº</strong>ç­‰ç­‰ã€‚</li>
<li><em>æ”¯ä»˜æ–¹å¼</em>æœ‰<strong>ç°é‡‘æ”¯ä»˜</strong>ã€<strong>é“¶è¡Œå¡æ”¯ä»˜</strong>ã€<strong>å¾®ä¿¡æ”¯ä»˜</strong>ç­‰ç­‰ã€‚</li>
<li><em><code>List</code></em> çš„å®ç°ç­–ç•¥æœ‰ <strong><code>ArrayList</code></strong>ã€<strong><code>LinkedList</code></strong>ã€<strong><code>CopyOnWriteArrayList</code></strong>ã€‚</li>
</ul>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šåˆ›å»ºä¸€ä¸ª Interfaceï¼Œåœ¨è¿™ä¸ª Interface çš„æ¯ä¸ªå®ç°ä¸­ä½¿ç”¨ä¸åŒçš„ç®—æ³•ã€‚</p>
<p><strong>ä¼˜ç‚¹</strong>ï¼š</p>
<ul>
<li>æ˜“äºæ‰©å±•æ–°ç®—æ³•</li>
<li>å°†ç®—æ³•ä¸å®¢æˆ·ç«¯æ“ä½œåˆ†ç¦»å¼€æ¥</li>
</ul>
<p><strong><a href="../../../../2018/06/05/java-UML/">UML ç±»å›¾</a>ï¼š</strong></p>
<iframe frameborder="0" style="width:100%;height:400px;" src="https://www.draw.io/?lightbox=1&highlight=0000ff&edit=_blank&layers=1&nav=1#R7Vnbjts2EP0aAZuHXehq2Y%2BWdjctsGmNboC2j7RES0QoUaDoW76%2BQ4nU3Y2SdZEU8cLAiofDoTjnDDmmDSfMTu85KtIPLMbUsM34ZDiPhm1b7tKGfxI518jSW9ZAwkmsjFrglXzGCjQVuicxLnuGgjEqSNEHI5bnOBI9DHHOjn2zHaP9WQuU4BHwGiE6Rv8ksUjVKmy%2FxX%2FBJEn1zNZiVfdsUfQp4Wyfq%2FkM29lVf3V3hrQvtdAyRTE7diDnyXBCzpion7JTiKmMrQ5bPe75Qm%2Fz3hznYs4AxdMB0b1auhHaxjogucB8hyIsm0Fg2AtYCbDjBBt0zsD5q%2BBI4OSsliHOOnTlkWQU5dAKdkza1T1yKKIkyeE5wtI7AAfMBYGor1WHYAWgUUpo%2FILObC%2BXUAoIqW4FKePkM7hFFLosAKCbCyWghdezeJUj1dQcl2Cz0XGxBtAHdOoZvqBSKCBilKKiJNtqGXJghnhC8oAJwTJlpBf9TCgNGWW8ioWmXkWifklb2o9pUszJiOBTB1K0vccsw4JDuE3dayoJqRTz3EXdPraCdVxlk3bFaqpcRCpJksZ3KxR4UFqZ1o031o0dFOh8hzIQP8y0jtkeQvZupA9Ynqh44%2BwT1rHKWS2YTvgUpDVD8U5cVExZoIjkyUtl8%2Bi2yB9q2RJiMHZHq2RLSRzjXLLNBBJo2yi0YCD8KixeAB%2BIXmg%2BeIYHLx5C22rb8JHmXIQsh7UgUhGJQTdHLLUzg3J7NuWK4oU3j2HXeTvB%2FohgSPxCJtWPl%2Feu%2BxPlvWf1836h2x1VrLwJVdiO%2BXZZLEeyuMcZIvRXSIc1aANyrnNW3BeoLI%2BMx1Odt53hoij82aJQIoAMmKWBlft2Cawmtv4Bk5RUDNVM6gLK%2BiYaMyCE4pa3j5LWx3trxK0z5taZ4JGiLaYbVhJBmPTPa9sBv1%2Bi8AqUWc5yHmdXOK31FtE%2FrutKL6qWuI8EkFLVeoMC767K704Ch8Wxzed3vYS%2BUAHcUv4%2FSHlrot6b1s8Vct4af08IOY6JCBGPf8iSYPkTlwT2REmwXE1Iw1lcoSSwnHFNkKMMTxYEEejlt322lZxPdR8Ok3gMAvt993QqCLzbrZb4mo2lSd35xcT4YJpUj2VdY2dxb%2BXEVVizFvY82q5RT0x%2B%2Fb9QT4wPirvB9hBO7gphfzMIJ%2FeAW%2F3x3bYJy595ylira5wyiy%2FvEzhOsC4yMN2y41MLBKnIdKGA83gtL4mhuaVMFgZBZQ5tTWltJc9wRUaMyhTHykGV9UFz1ds55p%2BrPzn6RMRfcmsxH0zTVcDf0tmD5duqvcGcQCSk7B%2F%2FtRaAyibBClK5JxfbsynZnke9e%2FQxdR2qmvvDLlW%2Bcs4xRYIc%2BhNM0aem2Eipdu4mlxcKEu2iflc1qns9PXDUXG9pzdkDR3VgRo6AXnTumKlUuvjC7qo%2Fz9LsXZvDQ%2B2xlWoT1HnqHV%2Bn%2FS%2FUOxSvVLPjX1AviJaf61Ge72ugGWZrZLbqe4r2xplgT2bCd1O95w%2FEOtz3Zqt%2BeLU%2FvLm7kurtld%2Bbx%2FHdt6gemu0PV7V5%2B%2Bug8%2FQP"></iframe>
<p><strong>ä»£ç ï¼š</strong></p>
<p>å®šä¹‰æ”¯ä»˜ç­–ç•¥æ¥å£ã€‚</p>
<details><summary>PaymentStrategy.java</summary>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> strategy;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * A strategy interface for paying money.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> upupming</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">PaymentStrategy</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pay</span><span class="params">(<span class="keyword">double</span> amount)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>
<p>å…·ä½“çš„å®ç°æ–¹å¼æœ‰ä¸¤ç§ã€‚</p>
<details><summary>PaypalStrategy</summary>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> strategy;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Paying using paypal.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> upupming</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PaypalStrategy</span> <span class="keyword">implements</span> <span class="title">PaymentStrategy</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> String emailId;</span><br><span class="line">  <span class="keyword">private</span> String password;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">PaypalStrategy</span><span class="params">(String email, String pwd)</span> </span>&#123;</span><br><span class="line">    emailId = email;</span><br><span class="line">    password = pwd;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pay</span><span class="params">(<span class="keyword">double</span> amount)</span> </span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"Email: "</span> + emailId);</span><br><span class="line">    System.out.println(<span class="string">"Password: "</span> + password);</span><br><span class="line">    System.out.println(amount + <span class="string">"paid using Paypal"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>
<details><summary>CreditCardStrategy.java</summary>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> strategy;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Paying using credit card</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> upupming</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CreditCardStrategy</span> <span class="keyword">implements</span> <span class="title">PaymentStrategy</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> String name;</span><br><span class="line">  <span class="keyword">private</span> String cardNumber;</span><br><span class="line">  <span class="keyword">private</span> String cvv;</span><br><span class="line">  <span class="keyword">private</span> String dateOfExpiry;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">CreditCardStrategy</span><span class="params">(String name, String cardNumber, String cvv, </span></span></span><br><span class="line"><span class="function"><span class="params">        String dateOfExpiry)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.cardNumber = cardNumber;</span><br><span class="line">    <span class="keyword">this</span>.cvv = cvv;</span><br><span class="line">    <span class="keyword">this</span>.dateOfExpiry = dateOfExpiry;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pay</span><span class="params">(<span class="keyword">double</span> amount)</span> </span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"Name: "</span> + name);</span><br><span class="line">    System.out.println(<span class="string">"Card Number: "</span> + cardNumber);</span><br><span class="line">    System.out.println(<span class="string">"CVV: "</span> + cvv);</span><br><span class="line">    System.out.println(<span class="string">"Date of expiry: "</span> + dateOfExpiry);</span><br><span class="line">    System.out.println(amount + <span class="string">"paid with credit card"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>
<p>åœ¨å…¶ä»–åœ°æ–¹ä½¿ç”¨ï¼Œæ ¹æ®ä¼ å…¥çš„ç­–ç•¥å‚æ•°è¿›è¡Œæ”¯ä»˜ã€‚</p>
<details><summary>ShoppingCart.java</summary>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> strategy;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * A Shopping cart which keeps the goods, and pays using a </span></span><br><span class="line"><span class="comment"> * provided strategy.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> upupming</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ShoppingCart</span> </span>&#123;</span><br><span class="line">  <span class="keyword">double</span> total = <span class="number">0</span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addGoods</span><span class="params">(<span class="keyword">double</span> amount)</span> </span>&#123;</span><br><span class="line">    total += amount;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pay</span><span class="params">(PaymentStrategy paymentStrategy)</span> </span>&#123;</span><br><span class="line">    paymentStrategy.pay(total);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>
<h2 id="template-design-pattern-æ¨¡æ¿æ¨¡å¼"><a class="markdownIt-Anchor" href="#template-design-pattern-æ¨¡æ¿æ¨¡å¼"></a> Template design pattern | æ¨¡æ¿æ¨¡å¼</h2>
<p>åšäº‹æƒ…çš„æ­¥éª¤ä¸€æ ·,ä½†å…·ä½“æ–¹æ³•ä¸åŒã€‚</p>
<p>ç»™ä¸€ç±»ç®—æ³•å®šä¸€å¥—æ¨¡æ¿ï¼Œä½ ä¹‹åçš„å®ç°åº”è¯¥èƒ½å¤ŸåŒ…å«ä¸€äº›å›ºå®šçš„æ“ä½œï¼Œä½†æ˜¯åˆæœ‰ä¸€äº›çµæ´»åº¦ã€‚</p>
<p><a href="../../../../2018/06/05/java-UML/"><strong>UML ç±»å›¾ï¼š</strong></a></p>
<img src="template-uml.png" height="300">
<p>æŠ½è±¡ç±» <code>AbstractClass</code> æœ‰ä¸€äº›å…³äºæŸä¸ªç®—æ³•çš„åŸå§‹æ“ä½œï¼Œåœ¨å­ç±» <code>ConcreteClass</code> ä¸­å¯ä»¥å…·ä½“çš„å®ç°è¿™äº›æ“ä½œã€‚åœ¨ <code>TemplateMethod</code> ä¸­è°ƒç”¨è¿™äº›åŸå§‹æ“ä½œã€‚</p>
<p><strong>ä»£ç ï¼š</strong></p>
<p>é¦–å…ˆå®šä¹‰ä¸€ä¸ªè¿æ¥æ¨¡æ¿ï¼Œé‡Œé¢çš„ <code>run()</code>ï¼ˆå³ TemplateMethodï¼‰ å·²ç»å®šä¹‰ï¼Œè°ƒç”¨ä¸€äº›å…¶ä»–æ–¹æ³•ï¼ˆå³ PrimitiveOperationï¼‰ï¼Œå…¶ä¸­åŒ…æ‹¬ä¸€äº›æŠ½è±¡æ–¹æ³•ï¼Œåœ¨ä¸åŒçš„è¿æ¥æƒ…å†µä¸‹ï¼Œè¿™äº›æŠ½è±¡æ–¹æ³•çš„å®ç°æœ‰æ‰€ä¸åŒï¼ˆæ¯”å¦‚ <code>setDBDriver</code>ï¼‰</p>
<details><summary>ConnectionTemplate.java</summary>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.javacodegeeks.patterns.templatepattern;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">ConnectionTemplate</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> isLoggingEnable = <span class="keyword">true</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ConnectionTemplate</span><span class="params">()</span></span>&#123;</span><br><span class="line">        isLoggingEnable = disableLogging();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">        </span><br><span class="line">        setDBDriver();</span><br><span class="line">        logging(<span class="string">"Drivers set ["</span>+<span class="keyword">new</span> Date()+<span class="string">"]"</span>);</span><br><span class="line">        setCredentials();</span><br><span class="line">        logging(<span class="string">"Credentails set ["</span>+<span class="keyword">new</span> Date()+<span class="string">"]"</span>);</span><br><span class="line">        connect();</span><br><span class="line">        logging(<span class="string">"Conencted"</span>);</span><br><span class="line">        prepareStatement();</span><br><span class="line">        logging(<span class="string">"Statement prepared ["</span>+<span class="keyword">new</span> Date()+<span class="string">"]"</span>);</span><br><span class="line">        setData();</span><br><span class="line">        logging(<span class="string">"Data set ["</span>+<span class="keyword">new</span> Date()+<span class="string">"]"</span>);</span><br><span class="line">        insert();</span><br><span class="line">        logging(<span class="string">"Inserted ["</span>+<span class="keyword">new</span> Date()+<span class="string">"]"</span>);</span><br><span class="line">        close();</span><br><span class="line">        logging(<span class="string">"Conenctions closed ["</span>+<span class="keyword">new</span> Date()+<span class="string">"]"</span>);</span><br><span class="line">        destroy();</span><br><span class="line">        logging(<span class="string">"Object destoryed ["</span>+<span class="keyword">new</span> Date()+<span class="string">"]"</span>);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">setDBDriver</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">setCredentials</span><span class="params">()</span></span>; </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">connect</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Setting connection..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">prepareStatement</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Preparing insert statement..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">setData</span><span class="params">()</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Inserting data..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Closing connections..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Destroying connection objects..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">disableLogging</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">logging</span><span class="params">(String msg)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(isLoggingEnable)&#123;</span><br><span class="line">            System.out.println(<span class="string">"Logging....: "</span>+msg);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>
<p>ç»§æ‰¿æŠ½è±¡æ¨¡æ¿ï¼Œå®ŒæˆæŠ½è±¡æ–¹æ³•çš„å®ç°ã€‚ä¸‹é¢æ˜¯ MySql çš„ä¾‹å­ã€‚</p>
<details><summary>MySqLCSVCon.java</summary>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.javacodegeeks.patterns.templatepattern;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MySqLCSVCon</span> <span class="keyword">extends</span> <span class="title">ConnectionTemplate</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setDBDriver</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Setting MySQL DB drivers..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCredentials</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Setting credentials for MySQL DB..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setData</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Setting up data from csv file...."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">disableLogging</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>
<p><strong>æ€»ç»“ï¼š</strong></p>
<p>æ¨¡æ¿ç•™å‡ºæŠ½è±¡æ–¹æ³•å¾…å­ç±»å®ç°ã€‚è¿™ç§ç­–ç•¥åœ¨ Junit æµ‹è¯•æ–‡ä»¶ä¸­ä¹Ÿç»å¸¸ç”¨åˆ°ã€‚æ¯”å¦‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­æˆ‘å¯ä»¥å†™ä¸€ä¸ªæŠ½è±¡æµ‹è¯•ç±» <code>ConnectionTemplateTest</code>ï¼Œç„¶åç”¨ <code>MySqLCSVConTest</code> ç»§æ‰¿è¿™ä¸ªç±»æ¥æµ‹è¯• <code>MySqLCSVCon</code>ï¼Œå¯ä»¥èŠ‚çœå¾ˆå¤šä»£ç ã€‚</p>
<p>çœ‹åˆ°æŠ½è±¡ç±»ä¸­æŸæ–¹æ³•è°ƒç”¨æœªå®ç°çš„æŠ½è±¡æ–¹æ³•ï¼Œå°±ä¼šä¸»åŠ¨å»æƒ³åˆ°è¿™ç§å®ç°æ–¹å¼æ˜¯æ¨¡æ¿æ¨¡å¼ã€‚</p>
<h2 id="iterator-design-pattern-è¿­ä»£å™¨æ¨¡å¼"><a class="markdownIt-Anchor" href="#iterator-design-pattern-è¿­ä»£å™¨æ¨¡å¼"></a> Iterator design pattern | è¿­ä»£å™¨æ¨¡å¼</h2>
<p>è®©æ•°æ®ç»“æ„å…·æœ‰è¿­ä»£åŠŸèƒ½ã€‚</p>
<img src="iterator-uml.png" height="200">
<p>Java è‡ªå¸¦ <code>Iterator</code> æ¥å£ï¼Œç”¨è‡ªå·±çš„ <code>ConcreteIterator</code> å®ç°è¿™ä¸ªæ¥å£ï¼ŒåŒæ—¶åœ¨å†…éƒ¨ aggregate ä¸€äº› <code>ConcreteAggregate</code>ã€‚</p>
<p>æ¯”å¦‚ <code>ShapeIterator</code> å°±ä¼šåœ¨å†…éƒ¨æ‹¥æœ‰ <code>Shape</code> å˜é‡æ•°ç»„ã€‚</p>
<p><strong>ä»£ç ï¼š</strong></p>
<p>ä¸€ä¸ªç®€å•è€Œåˆæœ´ç´ çš„å½¢çŠ¶ã€‚</p>
<details><summary>Shape.java</summary>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.javacodegeeks.patterns.iteratorpattern;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Shape</span><span class="params">(<span class="keyword">int</span> id, String name)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"ID: "</span>+id+<span class="string">" Shape: "</span>+name;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>
<p>ä¸ºäº†éå†ä¸€ä¸ª <code>Shape</code> æ•°ç»„ï¼Œè¦å®ç° <code>Iterator&lt;Shape&gt;</code>ï¼Œåœ¨å†…éƒ¨ aggregate ä¸€äº› <code>Shapes</code> ç”¨äºæ“ä½œã€‚</p>
<details><summary>ShapeIterator.java</summary>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.javacodegeeks.patterns.iteratorpattern;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ShapeIterator</span> <span class="keyword">implements</span> <span class="title">Iterator</span>&lt;<span class="title">Shape</span>&gt;</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Shape [] shapes;</span><br><span class="line">    <span class="keyword">int</span> pos; <span class="comment">// pos åˆå§‹å€¼ä¸º 0</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ShapeIterator</span><span class="params">(Shape []shapes)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.shapes = shapes;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="comment">// 1. å®ç° hasNext()ï¼šæœ‰ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œä¸‹ä¸€ä¸ªå…ƒç´ æ˜¯ shapes[pos]</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(pos &gt;= shapes.length || shapes[pos] == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2. å®ç° next()ï¼šè¿”å›ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œç¬¬ä¸€æ¬¡è¿”å›çš„æ˜¯ shapes[0]</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Shape <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> shapes[pos++];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 3. å®ç° remove()</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// pos==0ï¼Œä»£è¡¨è¿˜æœªå¼€å§‹éå†ï¼Œæ¸¸æ ‡å¤„äº-1ï¼Œè¿˜ä¸èƒ½åˆ é™¤</span></span><br><span class="line">    <span class="comment">// å¿…é¡»æœ‰è¿‡ä¸€æ¬¡ next()è°ƒç”¨ä¹‹åæ‰å¯ä»¥ remove</span></span><br><span class="line">        <span class="keyword">if</span>(pos &lt;=<span class="number">0</span> )</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalStateException(<span class="string">"Illegal position"</span>);</span><br><span class="line">        <span class="keyword">if</span>(shapes[pos-<span class="number">1</span>] !=<span class="keyword">null</span>)&#123;</span><br><span class="line">      <span class="comment">// å¯ä»¥çœ‹åˆ°è¿™å„¿çš„ä»£ä»·æ¯”è¾ƒé«˜ï¼Œæ˜¯çº¿æ€§æ—¶é—´</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i= pos-<span class="number">1</span>; i&lt;(shapes.length-<span class="number">1</span>);i++)&#123;</span><br><span class="line">                shapes[i] = shapes[i+<span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">            shapes[shapes.length-<span class="number">1</span>] = <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>
<p>å¯¹äºå®¢æˆ·ç«¯æ¥è¯´ï¼Œç”¨èµ·æ¥éå¸¸ç®€æ´ï¼Œä¸‰ä¸ªæ–¹æ³•è½®ç•ªè°ƒç”¨ã€‚</p>
<details><summary>TestIteratorPattern.java</summary>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.javacodegeeks.patterns.iteratorpattern;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestIteratorPattern</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ShapeStorage storage = <span class="keyword">new</span> ShapeStorage();</span><br><span class="line">         storage.addShape(<span class="string">"Polygon"</span>);</span><br><span class="line">        storage.addShape(<span class="string">"Hexagon"</span>);</span><br><span class="line">        storage.addShape(<span class="string">"Circle"</span>);</span><br><span class="line">        storage.addShape(<span class="string">"Rectangle"</span>);</span><br><span class="line">        storage.addShape(<span class="string">"Square"</span>);</span><br><span class="line">        </span><br><span class="line">        ShapeIterator iterator = <span class="keyword">new</span> ShapeIterator(storage.getShapes());</span><br><span class="line">        <span class="keyword">while</span>(iterator.hasNext())&#123;</span><br><span class="line">            System.out.println(iterator.next());</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">"Apply removing while iterating..."</span>);</span><br><span class="line">        iterator = <span class="keyword">new</span> ShapeIterator(storage.getShapes());</span><br><span class="line">        <span class="keyword">while</span>(iterator.hasNext())&#123;</span><br><span class="line">            System.out.println(iterator.next());</span><br><span class="line">      <span class="comment">// è¿™ç§æ–¹å¼è§£å†³äº†æ™®é€š for å¾ªç¯æ— æ³•è¾¹ä¾¿åˆ©è¾¹åˆ é™¤æ•°ç»„ä¸­å…ƒç´ çš„é—®é¢˜</span></span><br><span class="line">            iterator.remove();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>
<details><summary>ShapeStorage.java</summary>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.javacodegeeks.patterns.iteratorpattern;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ShapeStorage</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> Shape []shapes = <span class="keyword">new</span> Shape[<span class="number">5</span>];</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> index;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addShape</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = index++;</span><br><span class="line">        shapes[i] = <span class="keyword">new</span> Shape(i,name);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> Shape[] getShapes()&#123;</span><br><span class="line">        <span class="keyword">return</span> shapes;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>
<h1 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h1>
<table>
<thead>
<tr>
<th style="text-align:center">åˆ›å»ºå‹æ¨¡å¼</th>
<th style="text-align:center">ç»“æ„å‹æ¨¡å¼</th>
<th style="text-align:center">è¡Œä¸ºå‹æ¨¡å¼</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">é€‚é…å™¨æ¨¡å¼</td>
<td style="text-align:center">ç­–ç•¥æ¨¡å¼</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">è£…é¥°å™¨æ¨¡å¼</td>
<td style="text-align:center">æ¨¡æ¿æ¨¡å¼</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">å¤–è§‚æ¨¡å¼</td>
<td style="text-align:center">è¿­ä»£å™¨æ¨¡å¼</td>
</tr>
</tbody>
</table>
<h1 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h1>
<ol>
<li><a href="https://github.com/upupming/books/blob/master/Programming-Languages/java/Java-Design-Patterns.pdf" target="_blank" rel="noopener">Java Design Patterns</a></li>
<li>Software Construction at HIT | 5.3 Design Patterns for Reuse</li>
<li><a href="https://legacy.gitbook.com/book/quanke/design-pattern-java/details" target="_blank" rel="noopener">è®¾è®¡æ¨¡å¼Javaç‰ˆ</a></li>
</ol>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="mailto:undefined">upupming</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="https://upupming.site/2018/06/18/java-design-patterns-1/">https://upupming.site/2018/06/18/java-design-patterns-1/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="https://upupming.site">upupming çš„åšå®¢</a>ï¼</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/java/">java</a><a class="post-meta__tags" href="/tags/design-patterns/">design patterns</a></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2018/06/19/java-design-patterns-2/"><i class="fa fa-chevron-left">  </i><span>Java è®¾è®¡æ¨¡å¼ (2)</span></a></div><div class="next-post pull-right"><a href="/2018/06/15/6.031-locks-and-synchronization/"><span>Notes for MIT 6.031 Locks and Synchronization</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="gitalk-container"></div><script>var gitalk = new Gitalk({
  clientID: '77bd7cc3fdbcd3e5945a',
  clientSecret: '883971da140a8232d72918030f8c1a211a5befc1',
  repo: 'upupming.github.io',
  owner: 'upupming',
  admin: 'upupming',
  id: md5(decodeURI(location.pathname)),
  language: 'zh-CN'
})
gitalk.render('gitalk-container')</script></div></div><footer class="footer-bg" style="background-image: url(/img/background.png)"><div class="layout" id="footer"><div class="copyright">&copy;2018 - 2020 By upupming</div><div class="framework-info"><span>é©±åŠ¨ - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>ä¸»é¢˜ - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.6.1"></script><script src="/js/fancybox.js?version=1.6.1"></script><script src="/js/sidebar.js?version=1.6.1"></script><script src="/js/copy.js?version=1.6.1"></script><script src="/js/fireworks.js?version=1.6.1"></script><script src="/js/transition.js?version=1.6.1"></script><script src="/js/scroll.js?version=1.6.1"></script><script src="/js/head.js?version=1.6.1"></script><script src="/js/search/algolia.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css"><script src="/js/katex.js"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="algolia-search"><div class="search-dialog__title" id="algolia-search-title">Algolia</div><div id="algolia-input-panel"><div id="algolia-search-input"></div></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-stats"></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>